<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM Playground</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-brain"></i>
                <h1>LLM Playground</h1>
            </div>
            <div class="header-actions">
                <button class="btn-secondary" id="settingsBtn" title="Manage API Keys">
                    <i class="fas fa-cog"></i> API Key Settings
                </button>
                <div class="parameters-dropdown">
                    <button class="parameters-dropdown-btn btn-secondary" id="parametersBtn">
                        <i class="fas fa-sliders-h"></i>
                        <span>Model Parameters</span>
                        <i class="fas fa-chevron-down dropdown-arrow"></i>
                    </button>
                    <div class="parameters-dropdown-content" id="parametersContent">
                        <div class="parameter-group">
                            <label for="modelProvider">Model Provider</label>
                            <select id="modelProvider" class="modern-select">
                                <option value="openai">OpenAI</option>
                                <option value="anthropic">Anthropic</option>
                                <option value="google">Google</option>
                                <option value="groq">Groq</option>
                            </select>
                        </div>
                        
                        <div class="parameter-group">
                            <label for="modelSelection">Model</label>
                            <select id="modelSelection" class="modern-select">
                                <option value="gpt-4">GPT-4</option>
                            </select>
                        </div>
                        
                        <div class="parameter-group">
                            <label for="systemPrompt">System Prompt</label>
                            <textarea id="systemPrompt" class="modern-textarea" placeholder="You are a helpful assistant."></textarea>
                        </div>
                        
                        <div class="parameter-group">
                            <label for="temperature">Temperature: <span id="temperatureValue">0.7</span></label>
                            <input type="range" id="temperature" min="0" max="2" step="0.1" value="0.7" class="modern-slider">
                        </div>
                        
                        <div class="parameter-group">
                            <label for="maxTokens">Max Tokens: <span id="maxTokensValue">2048</span></label>
                            <input type="range" id="maxTokens" min="1" max="4096" step="1" value="2048" class="modern-slider">
                        </div>
                        
                        <div class="parameter-group">
                            <label for="presencePenalty">Presence Penalty: <span id="presencePenaltyValue">0</span></label>
                            <input type="range" id="presencePenalty" min="-2" max="2" step="0.1" value="0" class="modern-slider">
                        </div>
                        
                        <div class="parameter-group">
                            <label for="frequencyPenalty">Frequency Penalty: <span id="frequencyPenaltyValue">0</span></label>
                            <input type="range" id="frequencyPenalty" min="-2" max="2" step="0.1" value="0" class="modern-slider">
                        </div>
                        
                        <div class="parameter-group">
                            <label for="seed">Seed (optional)</label>
                            <input type="number" id="seed" class="modern-input" placeholder="Random seed for reproducibility">
                        </div>
                        
                        <div class="parameter-group">
                            <label for="stopSequence">Stop Sequence (optional)</label>
                            <input type="text" id="stopSequence" class="modern-input" placeholder="Comma-separated stop sequences">
                        </div>
                        
                        <div class="parameter-group">
                            <label for="templateSelect">Template</label>
                            <select id="templateSelect" class="modern-select">
                                <option value="">Select a template...</option>
                                <option value="creative">Creative Writing</option>
                                <option value="code">Code Assistant</option>
                                <option value="analysis">Data Analysis</option>
                                <option value="chat">Casual Chat</option>
                            </select>
                        </div>
                        
                        <div class="parameter-group">
                            <label for="safetyLevel">Safety Level</label>
                            <select id="safetyLevel" class="modern-select">
                                <option value="strict">Strict - Maximum protection (recommended)</option>
                                <option value="moderate" selected>Moderate - Balanced filtering</option>
                                <option value="permissive">Permissive - Minimal filtering (advanced users)</option>
                            </select>
                            <div class="parameter-description">
                                <small>
                                    <strong>Strict:</strong> Blocks most potentially harmful content<br>
                                    <strong>Moderate:</strong> Allows educational/research content with context<br>
                                    <strong>Permissive:</strong> Relies primarily on model-level safety
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="btn-secondary" id="clearBtn">
                    <i class="fas fa-trash"></i> Clear
                </button>
                <button class="btn-primary" id="saveBtn">
                    <i class="fas fa-save"></i> Save
                </button>
            </div>
        </header>

        <div class="main-content">
            <!-- Left Navigation Sidebar -->
            <aside class="nav-sidebar">
                <div class="nav-section">
                    <button class="nav-btn new-chat-btn" id="newChatBtn">
                        <i class="fas fa-plus"></i>
                        <span>New Chat</span>
                    </button>
                </div>
                
                <div class="nav-section">
                    <div class="nav-dropdown">
                        <button class="nav-dropdown-btn" id="chatHistoryBtn">
                            <i class="fas fa-history"></i>
                            <span>Chat History</span>
                            <i class="fas fa-chevron-down dropdown-arrow"></i>
                        </button>
                        <div class="nav-dropdown-content" id="chatHistoryContent">
                            <div class="chat-history-empty">
                                <p>No chat history yet</p>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Hidden API Keys Section (managed through setup modal) -->
            <div class="api-keys-section" style="display: none;">
                <div class="input-group">
                    <input type="password" id="openaiKey" />
                </div>
                
                <div class="input-group">
                    <input type="password" id="anthropicKey" />
                </div>
                
                <div class="input-group">
                    <input type="password" id="googleKey" />
                </div>
                
                <div class="input-group">
                    <input type="password" id="groqKey" />
                </div>
            </div>

            <!-- Main Chat Area -->
            <main class="chat-area">
                <div class="centered-chat-container">
                    <!-- Welcome Message -->
                    <div class="welcome-section">
                        <h1 class="main-title">Welcome to LLM Playground</h1>
                        <p class="main-subtitle">Select a model from the parameters and start chatting!</p>
                    </div>
                    
                    <!-- Chat Messages (Hidden initially, positioned above input) -->
                    <div class="chat-messages" id="chatMessages" style="display: none;">
                    </div>
                    
                    <!-- Centered Input Area (Fixed at bottom) -->
                    <div class="centered-input-area">
                        <div class="modern-input-container">
                            <div class="add-content-dropdown">
                                <button id="addBtn" class="input-icon-btn add-btn" title="Add Content">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="12" y1="5" x2="12" y2="19"></line>
                                        <line x1="5" y1="12" x2="19" y2="12"></line>
                                    </svg>
                                </button>
                                <div class="add-content-menu" id="addContentMenu">
                                    <div class="add-content-item" id="uploadFileBtn">
                                        <i class="fas fa-file-upload"></i>
                                        <span>Upload Files</span>
                                    </div>
                                    <div class="add-content-item" id="webSearchBtn">
                                        <i class="fas fa-search"></i>
                                        <span>Search Web</span>
                                    </div>
                                </div>
                            </div>
                            <input type="file" id="fileInput" multiple accept=".txt,.md,.js,.py,.html,.css,.json,.xml,.csv" style="display: none;">
                            <div class="web-search-toggle" id="webSearchToggle" style="display: none;">
                                <label class="toggle-container">
                                    <input type="checkbox" id="webSearchEnabled" class="toggle-checkbox">
                                    <span class="toggle-label">
                                        <span class="toggle-slider"></span>
                                    </span>
                                    <span class="toggle-text">Web Search Enabled</span>
                                </label>
                            </div>
                            <textarea id="userInput" placeholder="Ask anything" rows="1"></textarea>
                            <div class="input-right-actions">
                                <button id="voiceBtn" class="input-icon-btn voice-btn" title="Voice Input">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                                        <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                                        <line x1="12" y1="19" x2="12" y2="23"></line>
                                        <line x1="8" y1="23" x2="16" y2="23"></line>
                                    </svg>
                                </button>
                                <button id="sendBtn" class="input-icon-btn send-btn" title="Send">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="22" y1="2" x2="11" y2="13"></line>
                                        <polygon points="22,2 15,22 11,13 2,9 22,2"></polygon>
                                    </svg>
                                </button>
                                <button id="stopBtn" class="input-icon-btn stop-btn" title="Stop" style="display: none;">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="6" y="6" width="12" height="12" rx="2"></rect>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Default Prompt Suggestions -->
                        <div class="prompt-suggestions">
                            <div class="prompt-card" data-prompt="Explain quantum computing in simple terms">
                                <div class="prompt-icon">ðŸ”¬</div>
                                <div class="prompt-text">
                                    <div class="prompt-title">Explain quantum computing</div>
                                    <div class="prompt-subtitle">in simple terms</div>
                                </div>
                            </div>
                            
                            <div class="prompt-card" data-prompt="Write a creative story about a time traveler">
                                <div class="prompt-icon">âœ¨</div>
                                <div class="prompt-text">
                                    <div class="prompt-title">Write a creative story</div>
                                    <div class="prompt-subtitle">about a time traveler</div>
                                </div>
                            </div>
                            
                            <div class="prompt-card" data-prompt="Help me plan a healthy meal for the week">
                                <div class="prompt-icon">ðŸ¥—</div>
                                <div class="prompt-text">
                                    <div class="prompt-title">Plan a healthy meal</div>
                                    <div class="prompt-subtitle">for the week</div>
                                </div>
                            </div>
                            
                            <div class="prompt-card" data-prompt="Explain the basics of machine learning">
                                <div class="prompt-icon">ðŸ¤–</div>
                                <div class="prompt-text">
                                    <div class="prompt-title">Explain machine learning</div>
                                    <div class="prompt-subtitle">basics</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Loading Modal -->
    <div class="modal" id="loadingModal">
        <div class="modal-content">
            <div class="loading-spinner"></div>
            <p>Generating response...</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>